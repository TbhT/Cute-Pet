!function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)s=o[u],n[s]&&m.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(p&&p(e);m.length;)m.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={0:0},i=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var p=c;i.push([74,1]),r()}({36:function(){},37:function(){},38:function(){},40:function(){},41:function(){},42:function(){},43:function(){},44:function(){},45:function(){},74:function(t,e,r){t.exports=r(99)},84:function(){},85:function(){},86:function(){},88:function(t,e,r){"use strict";var a=r(36);r.n(a).a},89:function(t,e,r){"use strict";var a=r(37);r.n(a).a},91:function(t,e,r){"use strict";var a=r(38);r.n(a).a},93:function(t,e,r){"use strict";var a=r(40);r.n(a).a},94:function(t,e,r){"use strict";var a=r(41);r.n(a).a},95:function(t,e,r){"use strict";var a=r(42);r.n(a).a},96:function(t,e,r){"use strict";var a=r(43);r.n(a).a},97:function(t,e,r){"use strict";var a=r(44);r.n(a).a},98:function(t,e,r){"use strict";var a=r(45);r.n(a).a},99:function(t,e,r){"use strict";r.r(e);var a=r(6),n=r(65),i=r(73),s=(r(83),r(84),r(85),r(86),r(4)),o=r.n(s),c=r(7),l=r.n(c),p=r(23),u=r.n(p),m=r(14),f=Object(m.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",[r("f7-navbar",{attrs:{title:"Not found","back-link":"Back"}}),t._v(" "),r("f7-block",{attrs:{strong:""}},[r("p",[t._v("Sorry")]),t._v(" "),r("p",[t._v("Requested content not found.")])])],1)},[],!1,null,null,null).exports,d=r(33),h="/api/activity/j-create",v="/api/market/j-create",g="/api/pet/j-create",w="/api/user/person/j-login",b="/api/user/person/j-sign-up",k=d.a.request.promise.postJSON;function x(){return function(){return l()(o.a.mark(function t(e){var r,a,n,i,s,c,l,p,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,a=e.contact,n=e.phoneNumber,i=e.place,s=e.serveType,c=e.workTime,l=e.intro,p=e.picture,t.next=3,k(v,{name:r,contact:a,phoneNumber:n,place:i,serveType:s,workTime:c,intro:l,picture:p});case 3:return u=t.sent,t.abrupt("return",u);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function _(){return function(){return l()(o.a.mark(function t(e){var r,a,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.username,a=e.password,t.next=3,k(w,{username:r,password:a});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function D(){return function(){return l()(o.a.mark(function t(e){var r,a,n,i,s,c,l,p,u,m,f;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,a=e.email,n=e.nickname,i=e.username,s=e.password,c=e.gender,l=e.age,p=e.homeAddress,u=e.workAddress,m=e.picture,t.next=3,k(b,{name:r,email:a,nickname:n,username:i,password:s,gender:c,age:l,homeAddress:p,workAddress:u,picture:m});case 3:return f=t.sent,t.abrupt("return",f);case 5:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function y(){return function(){return l()(o.a.mark(function t(e){var r,a,n,i,s,c,l,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.nickname,a=e.gender,n=e.age,i=e.vaccineStatus,s=e.petType,c=e.type,l=e.picture,t.next=3,k(g,{nickname:r,gender:a,age:n,vaccineStatus:i,petType:s,type:c,picture:l});case 3:if(0===(p=t.sent).iRet)return t.abrupt("return",!0);t.next=8;break;case 8:return console.error(p),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function Y(){return function(){return l()(o.a.mark(function t(e){var r,a,n,i,s,c,l,p,u,m,f,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,a=e.beginTime,n=e.endTime,i=e.totalCount,s=e.totalCost,c=e.joinBeginTime,l=e.joinEndTime,p=e.organizer,u=e.coorganizer,m=e.type,f=e.place,d=e.picture,t.next=3,k(h,{name:r,beginTime:a,endTime:n,totalCount:i,totalCost:s,joinBeginTime:c,joinEndTime:l,organizer:p,coorganizer:u,type:m,place:f,picture:d});case 3:if(0===t.sent.iRet)return t.abrupt("return",!0);t.next=8;break;case 8:return console.error(error),t.abrupt("return",!1);case 10:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}var C=/^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;function T(){var t=new Date,e=t.getUTCFullYear(),r=t.getUTCMonth()+1,a=t.getUTCDay(),n=t.getUTCHours()+8,i=t.getUTCMinutes(),s=t.getUTCSeconds();return new Date(Date.UTC(e,r,a,n,i,s))}var M=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],I=function(){for(var t=[],e=0;e<23;e++)t[e]=e+1;return t}(),E=function(){for(var t=[],e=0;e<60;e++)t[e]=e<10?"0".concat(e):e;return t}();function P(t,e){var r="YYYY:MM:DD:HH:mm:ss".split(":");return(e=new Date(e||Date.now()-6e4*(new Date).getTimezoneOffset())).toISOString().split(/[-:.TZ]/).reduce(function(t,e,a){return t.split(r[a]).join(e)},t)}var H={props:{data:{type:Object,default:function(){return{}}},enableToolBar:{type:Boolean,default:!0}},methods:{cardClick:function(t){this.$emit("card:content-click",t)},formatTime:function(){},getAvatar:function(t){return function(t){return"/user/avatar?uid=".concat(t)}(t)},likeClick:function(){}}},j=(r(88),Object(m.a)(H,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"me-post-card-container",on:{click:function(){return t.cardClick(t.data)}}},[r("f7-card",{staticClass:"me-post-card"},[r("f7-card-header",[r("div",{staticClass:"me-avatar"},[r("img",{staticClass:"lazy lazy-fade-in",attrs:{src:t.data.avatar}})]),t._v(" "),r("div",{staticClass:"me-user"},[r("div",{staticClass:"me-name"},[t._v(t._s(t.data.nickname))]),t._v(" "),r("div",{staticClass:"me-create-time"},[t._v(t._s(t.data.createTime))])])]),t._v(" "),r("f7-card-content",[r("div",{staticClass:"text me-text"},[t._v(t._s(t.data.text))]),t._v(" "),t.data.image?r("div",{staticClass:"me-image"},[r("img",{staticClass:"lazy",attrs:{src:t.data.image}})]):t._e()]),t._v(" "),t.enableToolBar?r("f7-card-footer",{staticClass:"me-flex-row"},[r("f7-link",[r("i",{staticClass:"iconfont icon-comment"}),t._v(" "),r("span",{staticClass:"text me-comment"},[t._v(t._s(t.data.commentCount))])]),t._v(" "),r("f7-link",{on:{click:function(){return t.likeClick(t.data.tweetId)}}},[r("i",{staticClass:"iconfont icon-like"}),t._v(" "),r("span",{staticClass:"text me-like"},[t._v(t._s(t.data.likeCount))])])],1):t._e()],1)],1)},[],!1,null,null,null).exports),A={components:{Card:j},props:{loadCardData:{type:Array,required:!0}},data:function(){return{refreshing:!1,loadingMore:!1,loadedEnd:!1}},updated:function(){console.log("tweet 信息更新了")},methods:{routeToCardDetail:function(t){this.$f7router.navigate("/tweet/".concat(t.tweetId),{props:{tweet:t}})}}},O=Object(m.a)(A,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"me-card-list"},t._l(t.loadCardData,function(e){return r("card",{key:e.tweetId,attrs:{data:e},on:{"card:content-click":function(){return t.routeToCardDetail(e)}}})}),1)},[],!1,null,null,null).exports,$={props:{bannerImages:{type:Array,default:function(){return[]}}},mounted:function(){},data:function(){return{loop:!0,params:{speed:400,spaceBetween:10,observer:!0,observeParents:!0,autoplay:{delay:1500,disableOnInteraction:!1}}}}},z=(r(89),Object(m.a)($,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-swiper",{staticClass:"me-swiper",attrs:{params:t.params,init:"",pagination:""}},t._l(t.bannerImages,function(t,e){return r("f7-swiper-slide",{key:e},[r("img",{staticClass:"lazy",attrs:{src:t.imgUrl}})])}),1)},[],!1,null,"a384542c",null).exports),S={props:{topics:{type:Array,default:function(){return[]}}},methods:{getTopicLink:function(t){return"/topic/".concat(t.topicId,"/")}}},B=Object(m.a)(S,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("f7-block-title",[t._v("近期话题")]),t._v(" "),t.topics.length?r("f7-list",t._l(t.topics,function(e){return r("f7-list-item",{key:e.id,attrs:{title:e.text,link:t.getTopicLink(e)}})}),1):r("f7-block",{attrs:{inset:""}},[t._v("暂无话题")])],1)},[],!1,null,null,null).exports,L=(r(0),r(20));function U(){return function(){return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{id:10,imgUrl:"https://cdn.framework7.io/placeholder/sports-1024x1024-1.jpg"},{id:21,imgUrl:"https://cdn.framework7.io/placeholder/sports-1024x1024-2.jpg"},{id:42,imgUrl:"https://cdn.framework7.io/placeholder/sports-1024x1024-3.jpg"}]);case 1:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function F(){return function(){return l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e={iRet:0}).data=[{tweetId:3001+Date.now(),image:"https://cdn.framework7.io/placeholder/sports-1024x1024-3.jpg",nickname:"Ivony",createTime:P("YYYY-MM-DD HH:mm:ss",new Date),text:"Here is a new puppet wechaty-puppet-padpro. This puppet is also implemented with iPad protocol, but different protocol service. Could you please add this puppet to the supported puppet list?",avatar:"https://cdn.framework7.io/placeholder/people-160x160-1.jpg",likeCount:121,commentCount:30},{tweetId:4212+Date.now(),nickname:"有木桑",createTime:P("YYYY-MM-DD HH:mm:ss",new Date),text:"不是，这玩意就是一堆log。可不能把所有“自己不认识的一堆字母”都叫作“代码”顺便，通常情况下，一般用户是不可能看到“代码”的，所以这种随便点点就出来的，不用想，大概率不是",avatar:"https://cdn.framework7.io/placeholder/people-160x160-2.jpg",likeCount:121,commentCount:30},{tweetId:3221+Date.now(),image:"https://cdn.framework7.io/placeholder/sports-1024x1024-2.jpg",text:"都凉的透透的了，才发这种骗小学生的文章，晚了吧，至少晚三年。看到黑诺基亚那块我看不下去了，你原来是诺甚亚的射拼拼工程师吧，prototype上call成功一次就高潮了？确定做过项目？注销木梳个小辫？在诺基亚就得被打死？你呆的是芬兰外企还是你们村大队办公室？诺基亚也是我黄掉的前东家之一，这么被人黑实在看不下去",nickname:"昵称2",createTime:P("YYYY-MM-DD HH:mm:ss",new Date),avatar:"https://cdn.framework7.io/placeholder/people-160x160-2.jpg",likeCount:121,commentCount:30},{tweetId:5234+Date.now(),image:"https://cdn.framework7.io/placeholder/sports-1024x1024-2.jpg",text:"三分钟热度”的人不过是从来没有体验到坚持做一件事成功后带来的喜悦，因为坚持的过程总是枯燥又充满挫折的，人的天性又是好逸恶劳。“每一年伊始笔记本的前几页都写满了宏伟的计划，后面几乎都是空白……”“购买了一本好，可惜的是到现在都还没开始读……”“下决心健身减肥，差不多在5天之后就放弃了……”几乎所有的人都有过“雄心勃勃地制定计划，心灰意冷地放弃计划”的经历。",nickname:"昵称3",createTime:P("YYYY-MM-DD HH:mm:ss",new Date),avatar:"https://cdn.framework7.io/placeholder/people-160x160-2.jpg",likeCount:121,commentCount:30},{tweetId:2234+Date.now(),image:"https://cdn.framework7.io/placeholder/sports-1024x1024-2.jpg",text:"白日梦患者逃避现实的人有5个特征。",nickname:"昵稱4",createTime:P("YYYY-MM-DD HH:mm:ss",new Date),avatar:"https://cdn.framework7.io/placeholder/people-160x160-3.jpg",likeCount:121,commentCount:30},{tweetId:9843+Date.now(),image:"https://cdn.framework7.io/placeholder/sports-1024x1024-3.jpg",text:"人的悲剧在于眼高手低。大多数人激动时幻想着睥睨天下，日常生活中却没法鼓起勇气和那个在每个周末的早上都要拿电钻钻墙的邻居很好谈一谈。",nickname:"昵稱433",createTime:P("YYYY-MM-DD HH:mm:ss",new Date),avatar:"https://cdn.framework7.io/placeholder/people-160x160-2.jpg",likeCount:121,commentCount:30}],t.abrupt("return",e);case 4:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function N(){return function(){return l()(o.a.mark(function t(){var e,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={userId:Date.now(),phoneNumber:"13300001111",name:"张三",nickname:"昵称123",gender:1,age:30,homeAddress:"这里是家庭地址",workAddress:"这里是工作地址",image:"https://cdn.framework7.io/placeholder/fashion-88x88-6.jpg"},(r={iRet:0,msg:"success"}).data={userInfo:e,pet:{petId:Date.now()}},t.abrupt("return",r);case 6:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function R(){return function(){return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{commentId:10+Date.now(),nickname:"昵称333",avatar:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg",text:"评论时间是"+P("YYYY-MM-DD HH:mm:ss",new Date),createTime:P("YYYY-MM-DD HH:mm:ss",new Date)},{commentId:113+Date.now(),nickname:"昵称333",avatar:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg",text:"评论时间是"+P("YYYY-MM-DD HH:mm:ss",new Date),createTime:P("YYYY-MM-DD HH:mm:ss",new Date)},{nickname:"昵称333",commentId:1131+Date.now(),avatar:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg",text:"评论时间是"+P("YYYY-MM-DD HH:mm:ss",new Date),createTime:P("YYYY-MM-DD HH:mm:ss",new Date)},{nickname:"昵称333",commentId:11343+Date.now(),avatar:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg",text:"评论时间是"+P("YYYY-MM-DD HH:mm:ss",new Date),createTime:P("YYYY-MM-DD HH:mm:ss",new Date)}]);case 1:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function q(){return[{activityId:321+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事1",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点1",totalCount:"100",totalCost:"200"},{activityId:1+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事2",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点2",totalCount:"100",totalCost:"200"},{activityId:21+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事3",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点3",totalCount:"100",totalCost:"200"},{activityId:1321+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事4",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点4",totalCount:"100",totalCost:"200"},{activityId:32221+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事5",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点5",totalCount:"100",totalCost:"200"},{activityId:321224+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事6",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点6",totalCount:"100",totalCost:"200"},{activityId:3213333+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事7",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点7",totalCount:"100",totalCost:"200"},{activityId:3244131+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"赛事8",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点8",totalCount:"100",totalCost:"200"}]}function G(){return function(){return l()(o.a.mark(function t(){var e,r,a,n=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0<n.length&&void 0!==n[0]?n[0]:123,r=[],a=0;a<10;a++)r.push({activityId:32111+Date.now()+e,image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"party"+a,beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点"+a,totalCount:"100",totalCost:"200"});return t.abrupt("return",r);case 4:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function V(){return function(){return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{activityId:933+Date.now(),image:"http://cdn.framework7.io/placeholder/nature-1000x600-3.jpg",name:"party44444444444444444",beginTime:P("YYYY-MM-DD HH:mm:ss",new Date),endTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinBeginTime:P("YYYY-MM-DD HH:mm:ss",new Date),joinEndTime:P("YYYY-MM-DD HH:mm:ss",new Date),organizer:P("YYYY-MM-DD HH:mm:ss",new Date),coorganizer:P("YYYY-MM-DD HH:mm:ss",new Date),place:"地点3333333333",totalCount:"100",totalCost:"200"});case 1:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function J(){return function(){return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{petId:Date.now()+1,nickname:"宠物昵称1",gender:"男",age:10,vaccineStatus:2,petType:1,type:3,image:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg"},{petId:Date.now()+222,nickname:"宠物昵称2",gender:"女",age:3,vaccineStatus:1,petType:2,type:3,image:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg"}]);case 1:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function Z(){return function(){return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{petId:Date.now(),nickname:"宠物昵称2",gender:"女",age:3,vaccineStatus:1,petType:2,type:3,image:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg"});case 1:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function K(){return function(){return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{topicId:Date.now(),text:"#这里是话题1#"},{topicId:Date.now(),text:"#这里是话题2#"},{topicId:Date.now(),text:"#这里是话题3#"},{topicId:Date.now(),text:"#这里是话题4#"}]);case 1:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function Q(){return function(){return l()(o.a.mark(function t(){var e,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],r=0;r<10;r++)e.push({marketId:Date.now()+r,name:"商家店铺"+r,place:"地点"+r,contact:"联系人张三",phoneNumber:"13312345678",image:"https://cdn.framework7.io/placeholder/fashion-88x88-3.jpg"});return t.abrupt("return",e);case 3:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}function W(){return function(){return l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{marketId:Date.now(),name:"商家店铺",place:"地点333333",contact:"联系人张三",phoneNumber:"13312345678",image:"https://cdn.framework7.io/placeholder/fashion-88x88-6.jpg"});case 1:case"end":return t.stop()}},t)})).apply(this,arguments)}.apply(this,arguments)}r(90);var X,tt,et,rt,at,nt,it,st,ot,ct,lt,pt,ut,mt,ft,dt,ht,vt,gt,wt,bt,kt,xt,_t,Dt,yt,Yt,Ct,Tt,Mt,It,Et,Pt,Ht,jt,At=Object(L.a)("home"),Ot=At.mapActions,$t=At.mapState,zt=At.mapGetters,St={components:{CardList:O,BannerSwiper:z,TopicList:B},computed:u()({},$t(["tweets"]),zt(["isTweetLoadAll"]),Object(L.e)(["user"])),data:function(){return{bannerImages:[],showPreloader:!0,allowInfinite:!0,isInfinite:!0,topics:[]}},methods:u()({onPageBeforeIn:(at=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$f7.preloader.show(),t.next=3,this.getBannerImages();case 3:return t.next=5,this.getIndexTweets();case 5:return t.next=7,this.getAllTopics();case 7:this.tweets.length<6&&(this.showPreloader=!1),this.$f7.preloader.hide();case 9:case"end":return t.stop()}},t,this)})),function(){return at.apply(this,arguments)})},Ot(["getIndexTweets","loadMoreTweets"]),Object(L.d)(["updatePopup"]),Object(L.c)(["getUserStatus"]),{onRefresh:(rt=l()(o.a.mark(function t(e,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getIndexTweets();case 2:r();case 3:case"end":return t.stop()}},t,this)})),function(){return rt.apply(this,arguments)}),openPublisherPopup:function(){this.updatePopup({key:"publisherOpened",value:!0})},loadMore:(et=l()(o.a.mark(function t(e,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.allowInfinite){t.next=2;break}return t.abrupt("return");case 2:return this.allowInfinite=!1,t.prev=3,t.next=6,this.loadMoreTweets();case 6:this.allowInfinite=!0,this.isTweetLoadAll&&(this.isInfinite=!1,this.showPreloader=!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0);case 13:case"end":return t.stop()}},t,this,[[3,10]])})),function(){return et.apply(this,arguments)}),getBannerImages:(tt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U();case 3:e=t.sent,this.bannerImages=e,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return tt.apply(this,arguments)}),getAllTopics:(X=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K();case 3:(e=t.sent)?this.topics=e:console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return X.apply(this,arguments)})})},Bt=Object(m.a)(St,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{id:"homeView","page-content":!1,tabs:"","with-subnavbar":"","no-swipeback":""},on:{"page:beforein":t.onPageBeforeIn}},[r("f7-navbar",{attrs:{title:"首页"}},[r("f7-nav-right",[r("f7-link",{staticClass:"icon iconfont icon-edit1",on:{click:t.openPublisherPopup}})],1),t._v(" "),r("f7-subnavbar",{staticClass:"me-home-subnavbar"},[r("f7-segmented",{attrs:{raised:""}},[r("f7-button",{attrs:{"tab-link":"#tab-tweets","tab-link-active":""}},[t._v("精选")]),t._v(" "),r("f7-button",{attrs:{"tab-link":"#tab-topics"}},[t._v("话题")])],1)],1)],1),t._v(" "),r("f7-page-content",{staticClass:"page-content",attrs:{id:"tab-tweets","tab-active":"",tab:"",ptr:"","infinite-preloader":t.showPreloader},on:{"ptr:refresh":t.onRefresh,infinite:t.loadMore}},[r("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),t.tweets.length?r("card-list",{attrs:{loadCardData:t.tweets}}):r("f7-block",{attrs:{inset:""}},[t._v("暂无动态~")])],1),t._v(" "),r("f7-page-content",{staticClass:"page-content",attrs:{id:"tab-topics",tab:""}},[r("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),r("topic-list",{attrs:{topics:t.topics}})],1)],1)},[],!1,null,null,null).exports,Lt={components:{CardList:O},props:{tweets:{type:Array,default:[]}},data:function(){return{backText:"返回",topicText:"话题页"}},methods:{trimTopicText:function(t){return 10<(t=t||"").length&&(t=t.substr(0,10)+"..."),t}}},Ut=Object(m.a)(Lt,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{id:"topicDetailView","no-toolbar":""}},[r("f7-navbar",{attrs:{title:t.trimTopicText(t.topicText),"back-link":t.backText}}),t._v(" "),r("div",{staticClass:"me-topic-list"},[r("card-list",{attrs:{loadCardData:t.tweets}})],1)],1)},[],!1,null,null,null).exports,Ft={components:{Card:j},props:{tweet:{type:Object,required:!0},comments:{type:Array,default:function(){return[]}}},data:function(){return{backText:"返回"}},methods:u()({},Object(L.d)(["updatePopup","home/updateTweetById"]),{triggeLike:function(t,e){this["home/updateTweetById"]({tweetId:t,liked:e})},openCommentPopup:function(){this.updatePopup({key:"commentOpened",value:!0})}})},Nt=(r(91),Object(m.a)(Ft,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{staticClass:"me-tweet-detail",attrs:{"no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":t.backText,sliding:""}}),t._v(" "),r("card",{attrs:{enableToolBar:!1,data:t.tweet}}),t._v(" "),r("div",{staticClass:"me-comments"},[r("div",{staticClass:"me-title"},[r("span",[t._v("评论")])]),t._v(" "),t.comments.length?r("div",{staticClass:"me-comments-list"},t._l(t.comments,function(e){return r("div",{key:e.commentId,staticClass:"me-comment"},[r("img",{staticClass:"me-avatar lazy lazy-fade-in",attrs:{src:e.avatar}}),t._v(" "),r("div",{staticClass:"me-detail"},[r("div",{staticClass:"me-nickname"},[t._v(t._s(e.nickname))]),t._v(" "),r("div",{staticClass:"me-time"},[t._v(t._s(e.createTime))]),t._v(" "),r("div",{staticClass:"me-text"},[t._v(t._s(e.text))])])])}),0):r("div",{staticClass:"me-no-comment"},[r("i",{staticClass:"iconfont icon-wujieguoyangshi"}),t._v(" "),r("div",{staticClass:"me-text me-no-content"},[r("span",[t._v("暂无内容")])])])]),t._v(" "),r("f7-toolbar",{staticClass:"me-flex-row",attrs:{position:"bottom"}},[r("f7-link",{staticClass:"me-tool me-tool-border",on:{click:t.openCommentPopup}},[r("span",{staticClass:"iconfont icon-comment"}),t._v(" "),r("span",{staticClass:"text",domProps:{textContent:t._s(t.tweet.commentCount?t.tweet.commentCount:"评论")}})]),t._v(" "),r("f7-link",{staticClass:"me-tool me-tool-border",on:{click:function(){return t.triggeLike(t.tweet.tweetId,t.tweet.liked)}}},[r("span",{class:t.tweet.liked?"me-liked":"me-liked iconfont icon-like"}),t._v(" "),r("span",{staticClass:"text",domProps:{textContent:t._s(t.tweet.likeCount?t.tweet.likeCount:"喜欢")}})])],1)],1)},[],!1,null,"3b13abcd",null).exports),Rt=r(10),qt=r.n(Rt),Gt={props:{competeActivities:{type:Array}},methods:{getDetailLink:function(t){return"/activities/detail/".concat(t.activityId)},formatSubtitle:function(t){return"名额: ".concat(t.totalCount," 人")},formatPlace:function(t){return"活动地点: ".concat(t.place)}}},Vt={components:{BannerSwiper:z,CompeteActivity:Object(m.a)(Gt,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-list",{staticClass:"me-media-list me-compete-activity",attrs:{"media-list":""}},t._l(t.competeActivities,function(e){return r("f7-list-item",{key:e.activityId,attrs:{"media-item":"",subtitle:t.formatSubtitle(e),title:e.name,text:t.formatPlace(e),link:t.getDetailLink(e)}},[r("img",{staticClass:"lazy lazy-fade-in",attrs:{slot:"media",src:e.image,width:"80"},slot:"media"})])}),1)},[],!1,null,null,null).exports},computed:u()({},Object(L.e)(["user"])),data:function(){return{competePage:1,partyPage:1,travelPage:1,competeAllowInfinite:!0,partyAllowInfinite:!0,travelAllowInfinite:!0,showCompetePre:!0,showPartyPre:!0,showTravelPre:!0,bannerImages:[],competeActivities:[],partyActivities:[],travelActivities:[]}},mounted:function(){this.initActivities()},methods:{onPageBeforeIn:function(){this.getBannerImages()},initActivities:(ut=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q();case 2:(e=t.sent).length<6&&(this.showCompetePre=!1),this.competeActivities=e;case 5:case"end":return t.stop()}},t,this)})),function(){return ut.apply(this,arguments)}),onCompetePageRefresh:(pt=l()(o.a.mark(function t(e,r){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q();case 3:(a=t.sent)?this.competeActivities=a.data:console.error(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.prev=10,r(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])})),function(){return pt.apply(this,arguments)}),onPartyPageRefresh:(lt=l()(o.a.mark(function t(e,r){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G();case 3:0===(a=t.sent)?this.partyActivities=a.data:console.error(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.prev=10,r(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])})),function(){return lt.apply(this,arguments)}),onTravelPageRefresh:(ct=l()(o.a.mark(function t(e,r){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G();case 3:0===(a=t.sent)?this.travelActivities=a.data:console.error(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:return t.prev=10,r(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,7,10,13]])})),function(){return ct.apply(this,arguments)}),onCompetePageLoadMore:(ot=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.competeAllowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.competeAllowInfinite=!1,t.next=6,q();case 6:if(!(e=t.sent)){t.next=15;break}if(0===e.length)return this.showCompetePre=!1,t.abrupt("return");t.next=11;break;case 11:this.competePage+=1,this.competeActivities=[].concat(qt()(this.competeActivities),qt()(e.data)),t.next=16;break;case 15:console.error(e);case 16:this.competeAllowInfinite=!0,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.error(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(){return ot.apply(this,arguments)}),onPartyPageLoadMore:(st=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.partyAllowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.partyAllowInfinite=!1,t.next=6,G();case 6:if(!(e=t.sent)){t.next=15;break}if(0===e.length)return this.showPartyPre=!1,t.abrupt("return");t.next=11;break;case 11:this.partyPage+=1,this.partyActivities=[].concat(qt()(this.partyActivities),qt()(e.data)),t.next=16;break;case 15:console.error(e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:return t.prev=21,this.partyAllowInfinite=!0,t.finish(21);case 24:case"end":return t.stop()}},t,this,[[0,18,21,24]])})),function(){return st.apply(this,arguments)}),onTravelPageLoadMore:(it=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.travelAllowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.travelAllowInfinite=!1,t.next=6,G();case 6:if(!(e=t.sent)){t.next=15;break}if(0===e.length)return this.showTravelPre=!1,t.abrupt("return");t.next=11;break;case 11:this.travelPage+=1,this.travelActivities=[].concat(qt()(this.travelActivities),qt()(e.data)),t.next=16;break;case 15:console.error(e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:return t.prev=21,this.travelAllowInfinite=!0,t.finish(21);case 24:case"end":return t.stop()}},t,this,[[0,18,21,24]])})),function(){return it.apply(this,arguments)}),getBannerImages:(nt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U();case 3:e=t.sent,this.bannerImages=e,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return nt.apply(this,arguments)})}},Jt=Object(m.a)(Vt,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{id:"activitiesView","page-content":!1,tabs:"","with-subnavbar":""},on:{"page:beforein":t.onPageBeforeIn}},[r("f7-navbar",{attrs:{title:"活动"}},[r("f7-subnavbar",{staticClass:"me-activity-subnavbar"},[r("f7-segmented",{attrs:{raised:""}},[r("f7-button",{attrs:{"tab-link":"#me-activity-1","tab-link-active":""}},[t._v("宠物赛事")]),t._v(" "),r("f7-button",{attrs:{"tab-link":"#me-activity-2"}},[t._v("宠物趴体")]),t._v(" "),r("f7-button",{attrs:{"tab-link":"#me-activity-3"}},[t._v("带宠旅行")])],1)],1)],1),t._v(" "),r("f7-page-content",{attrs:{id:"me-activity-1",tab:"","tab-active":"",ptr:"",infinite:"","infinite-preloader":t.showCompetePre},on:{"ptr:refresh":t.onCompetePageRefresh,infinite:t.onCompetePageLoadMore}},[r("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),t.competeActivities.length?r("compete-activity",{attrs:{competeActivities:t.competeActivities}}):r("f7-block",{attrs:{inset:""}},[r("p",[t._v("暂无宠物赛事~")])])],1),t._v(" "),r("f7-page-content",{attrs:{id:"me-activity-2",tab:"",inifite:"",ptr:"","infinite-preloader":t.showPartyPre},on:{"ptr:refresh":t.onPartyPageRefresh,infinite:t.onPartyPageLoadMore}},[t.bannerImages.length?r("banner-swiper",{attrs:{bannerImages:t.bannerImages}}):t._e(),t._v(" "),t.partyActivities.length?r("compete-activity",{attrs:{competeActivities:t.partyActivities}}):r("f7-block",{attrs:{inset:""}},[t._v("暂无宠物趴体~")])],1),t._v(" "),r("f7-page-content",{attrs:{id:"me-activity-3",tab:"",ptr:"","infinite-preloader":t.showTravelPre,infinite:""},on:{"ptr:refresh":t.onTravelPageRefresh,infinite:t.onTravelPageLoadMore}},[t.bannerImages.length?r("banner-swiper",{attrs:{bannerImages:t.bannerImages}}):t._e(),t._v(" "),t.travelActivities.length?r("compete-activity",{attrs:{competeActivities:t.travelActivities}}):r("f7-block",{attrs:{inset:""}},[t._v("暂无带宠旅行~")])],1),t._v(" "),r("f7-fab",{attrs:{slot:"fixed",position:"right-bottom",color:"orange",href:"/activities/add"},slot:"fixed"},[r("f7-icon",{attrs:{ios:"f7:add",aurora:"f7:add",md:"material:add"}})],1)],1)},[],!1,null,null,null).exports,Zt={props:{placeholder:{type:String,default:""},elementId:{type:String,required:!0},time:{type:String,required:!0},type:{type:String,required:!0}},mounted:function(){var t=T();this.$f7.picker.create({inputEl:"#".concat(this.elementId),rotateEffect:!0,openIn:"sheet",formatValue:function(t){return t=[t[0]].concat(qt()(t.slice(1,4).map(function(t){return t<10?"0".concat(t):t})),qt()(t.slice(4))),console.log(t),"".concat(t[0],"-").concat(t[1],"-").concat(t[2]," ").concat(t[3],":").concat(t[4],":").concat(t[5])},cols:[{values:function(t){for(var e=(arguments.length,5),r=[],a=T().getFullYear(),n=0;n<e;n++)r.push("".concat(a+n));return r}()},{values:[1,2,3,4,5,6,7,8,9,10,11,12],displayValues:M,textAlign:"left"},{values:function(t,e){for(var r=new Date(t,e,0).getDate(),a=[],n=0;n<r;n++)a[n]="".concat(n+1);return a}(t.getFullYear(),t.getMonth())},{values:I},{divider:!0,content:":"},{values:E},{divider:!0,content:":"},{values:E}],on:{change:function(t,e){var r=new Date(e[0],e[1],0).getDate();e[2]>r&&t.cols[2].setValue(r)}}})},methods:{onChange:function(t){this.$emit("input:change",{type:this.type,value:t.target.value})}}},Kt=Object(m.a)(Zt,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item-content item-input"},[r("div",{staticClass:"item-inner"},[r("div",{staticClass:"item-title item-label"},[t._v(t._s(t.placeholder))]),t._v(" "),r("div",{staticClass:"item-input-wrap"},[r("input",{attrs:{type:"text",placeholder:t.placeholder,readonly:"readonly",id:t.elementId},on:{change:t.onChange}})])])])},[],!1,null,null,null).exports,Qt=r(27),Wt={components:{DateTime:Kt,PictureInput:Qt.a},data:function(){return{name:"",beginTime:"",endTime:"",totalCount:0,totalCost:0,joinBeginTime:"",joinEndTime:"",organizer:"",coorganizer:"",type:-1,place:"",picture:"",showNameErrorFlag:!1,showTypeErrorFlag:!1,showPlaceErrorFlag:!1,showTotalCountErrorFlag:!1,showTotalCostErrorFlag:!1,showOrganizerErrorFlag:!1,showCoorganizerErrorFlag:!1}},methods:{onChange:function(t){this.picture=t},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()},dateTimeChange:function(t){var e=t.type,r=t.value;"beginTime"===e?this.beginTime=r:"endTime"===e?this.endTime=r:"joinBeginTime"===e?this.joinBeginTime=r:"joinEndTime"===e&&(this.joinEndTime=r)},submitActivityData:(mt=l()(o.a.mark(function t(){var e,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,setTimeout(function(){r.showNameErrorFlag=!1,r.showTypeErrorFlag=!1,r.showPlaceErrorFlag=!1,r.showTotalCountErrorFlag=!1,r.showTotalCostErrorFlag=!1,r.showOrgazierErrorFlag=!1,r.showCoorgazierErrorFlag=!1},3e3),this.name){t.next=4;break}return t.abrupt("return",this.showNameErrorFlag=!0);case 4:if(this.type){t.next=6;break}return t.abrupt("return",this.showTypeErrorFlag=!0);case 6:if(this.place){t.next=8;break}return t.abrupt("return",this.showPlaceErrorFlag=!0);case 8:if(this.totalCount){t.next=10;break}return t.abrupt("return",this.showTotalCountErrorFlag=!0);case 10:if(this.totalCost){t.next=12;break}return t.abrupt("return",this.showTotalCostErrorFlag=!0);case 12:if(this.organizer){t.next=14;break}return t.abrupt("return",this.showOrgazierErrorFlag=!0);case 14:if(this.coorganizer){t.next=16;break}return t.abrupt("return",this.showCoorgazierErrorFlag=!0);case 16:if(this.picture){t.next=18;break}return t.abrupt("return",this.toast("活动封面图片不能为空"));case 18:return this.$f7.preloader.show(),t.next=21,Y(this);case 21:if(e=t.sent,this.$f7.preloader.hide(),e){t.next=27;break}return console.log("创建活动失败",e),this.toast("创建活动失败"),t.abrupt("return");case 27:this.toast("创建活动成功"),this.resetAllProps(),t.next=36;break;case 31:t.prev=31,t.t0=t.catch(0),console.error(t.t0),this.$f7.preloader.hide(),this.$f7.toast.create({text:"创建活动失败"});case 36:case"end":return t.stop()}},t,this,[[0,31]])})),function(){return mt.apply(this,arguments)}),resetAllProps:function(){this.name="",this.beginTime="",this.endTime="",this.totalCount=0,this.totalCost=0,this.joinBeginTime="",this.joinEndTime="",this.organizer="",this.coorganizer="",this.type=-1,this.place=""},back:function(){this.$f7router.back()}}},Xt=Object(m.a)(Wt,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{staticClass:"me-add-activity",attrs:{"no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"添加活动"}}),t._v(" "),r("f7-list",{attrs:{"no-hairlines-md":""}},[r("f7-list-input",{attrs:{label:"活动名称",type:"text",value:t.name,placeholder:"活动名称","error-message":"活动名称不能为空","error-message-force":t.showNameErrorFlag},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"活动类型",type:"select",value:t.type,"error-message":"活动赛事不能为空","error-message-force":t.showTypeErrorFlag},on:{input:function(e){t.type=e.target.value}}},[r("option",{attrs:{value:"1"}},[t._v("萌宠赛事")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("宠物趴体")]),t._v(" "),r("option",{attrs:{value:"3"}},[t._v("带宠旅行")])]),t._v(" "),r("f7-list-input",{attrs:{label:"活动地点",value:t.place,placehodler:"活动地点","error-message":"活动地点不能为空","error-message-force":t.showPlaceErrorFlag},on:{input:function(e){t.place=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"报名总人数",value:t.totalCount,placeholder:"总人数",type:"number","error-message":"总人数不能为0","error-message-force":t.showTotalCountErrorFlag},on:{input:function(e){t.totalCount=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"报名总费用",value:t.totalCost,placeholder:"总费用",type:"number","error-message":"总费用不能为0","error-message-force":t.showTotalCostErrorFlag},on:{input:function(e){t.totalCost=e.target.value}}}),t._v(" "),r("li",[r("date-time",{attrs:{elementId:"me-activity-begin-time",time:t.beginTime,type:"beginTime",placeholder:"活动开始时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),r("li",[r("date-time",{attrs:{elementId:"me-activity-end-time",time:t.endTime,type:"endTime",placeholder:"活动截止时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),r("li",[r("date-time",{attrs:{elementId:"me-activity-join-begin-time",time:t.joinBeginTime,type:"joinBeginTime",placeholder:"报名开始时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),r("li",[r("date-time",{attrs:{elementId:"me-activity-join-end-time",time:t.joinEndTime,type:"joinEndTime",placeholder:"报名截止时间"},on:{"input:change":t.dateTimeChange}})],1),t._v(" "),r("f7-list-input",{attrs:{label:"主办方",type:"text",value:t.organizer,placeholder:"主办方","error-message":"主办方不能为空","error-message-force":t.showOrganizerErrorFlag},on:{input:function(e){t.organizer=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"承办方",type:"text",value:t.coorganizer,placeholder:"承办方","error-message":"承办方不能为空","error-message-force":t.showCoorganizerErrorFlag},on:{input:function(e){t.coorganizer=e.target.value}}})],1),t._v(" "),r("div",{staticClass:"block block-strong"},[r("div",{staticClass:"block-header"},[t._v("上传活动图片")]),t._v(" "),r("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/jpeg, image/png",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传活动图片</p>",tap:"<p>上传活动图片</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),r("f7-block",[r("f7-row",[r("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),r("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitActivityData}},[t._v("提交")])],1)],1)],1)},[],!1,null,null,null).exports,te={components:{PictureInput:Qt.a},data:function(){return{nickname:"",showNicknameErrorFlag:!1,gender:0,showGenderErrorFlag:!1,age:0,vaccineStatus:0,petType:0,type:"",pictrue:""}},methods:{onChange:function(t){this.pictrue=t},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()},submitPetData:(ft=l()(o.a.mark(function t(){var e,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,setTimeout(function(){r.showNicknameErrorFlag=!1,r.showGenderErrorFlag=!1},3e3),this.nickname){t.next=4;break}return t.abrupt("return",this.showNicknameErrorFlag=!0);case 4:if(this.gender){t.next=6;break}return t.abrupt("return",this.showGenderErrorFlag=!0);case 6:if(this.pictrue){t.next=8;break}return t.abrupt("return",this.toast("宠物头像不能为空"));case 8:return this.$f7.preloader.show(),t.next=11,y(this);case 11:if(e=t.sent,this.$f7.preloader.hide(),e){t.next=17;break}return console.log("添加宠物失败",e),this.toast("添加宠物失败"),t.abrupt("return");case 17:this.toast("添加宠物成功"),this.resetAllProps(),t.next=26;break;case 21:t.prev=21,t.t0=t.catch(0),console.error(t.t0),this.$f7.preloader.hide(),this.toast("添加宠物失败");case 26:case"end":return t.stop()}},t,this,[[0,21]])})),function(){return ft.apply(this,arguments)}),back:function(){this.$f7router.back()},resetAllProps:function(){this.nickname="",this.gender=0,this.age=0,this.vaccineStatus=0,this.petType=0,this.type="",this.pictrue=""}}},ee=Object(m.a)(te,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{staticClass:"me-sign-up",attrs:{"no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"添加宠物"}}),t._v(" "),r("f7-list",{attrs:{"no-hairlines-md":""}},[r("f7-list-input",{attrs:{value:t.nickname,label:"宠物昵称",type:"text",placeholder:"宠物昵称","error-message":"宠物昵称不能为空","error-message-force":t.showNicknameErrorFlag}}),t._v(" "),r("f7-list-input",{attrs:{value:t.gender,label:"性别",type:"select","error-message":"性别不能为空","error-message-force":t.showGenderErrorFlag}},[r("option",{attrs:{value:"1"}},[t._v("公")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("母")])]),t._v(" "),r("f7-list-input",{attrs:{label:"年龄",input:!1}},[r("f7-range",{attrs:{slot:"input",value:t.age,label:"",min:1,max:100,step:1},slot:"input"})],1),t._v(" "),r("f7-list-input",{attrs:{value:t.vaccineStatus,label:"疫苗状况",type:"select"}},[r("option",{attrs:{value:"1"}},[t._v("已接种")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("未接种")])]),t._v(" "),r("f7-list-input",{attrs:{label:"宠物类别",value:t.petType,type:"text",placeholder:"宠物类别"}}),t._v(" "),r("f7-list-input",{attrs:{label:"品种",value:t.type,type:"text",placeholder:"品种"}})],1),t._v(" "),r("div",{staticClass:"block block-strong"},[r("div",{staticClass:"block-header"},[t._v("上传头像")]),t._v(" "),r("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/*",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传头像</p>",tap:"<p>上传头像</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),r("f7-block",[r("f7-row",[r("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),r("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitPetData}},[t._v("提交")])],1)],1)],1)},[],!1,null,null,null).exports,re=new RegExp("^(?=\\d{11}$)^1(?:3\\d|4[57]|5[^4\\D]|66|7[^249\\D]|8\\d|9[89])\\d{8}$"),ae={data:function(){return{username:"",password:"",showUsernamError:!1,showPasswordError:!1,passwordErrorMsg:"",usernameErrorMsg:""}},methods:u()({},Object(L.d)(["updateUserStatus"]),{signIn:(dt=l()(o.a.mark(function t(){var e,r,a,n,i=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this).$f7,e.$f7router,r=re.test(this.username),a=0===this.username.length,!r||a)return this.showUsernamError=!0,this.usernameErrorMsg=a?"请输入手机号":"手机号格式不正确",setTimeout(function(){i.showUsernamError=!1,i.usernameErrorMsg=""},1e3),t.abrupt("return");t.next=10;break;case 10:if(0===this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能为空",setTimeout(function(){i.showPasswordError=!1},1e3),t.abrupt("return");t.next=17;break;case 17:if(this.password.length<6)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能小于6位",setTimeout(function(){i.showPasswordError=!1},1e3),t.abrupt("return");t.next=24;break;case 24:if(64<this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能大于64位",setTimeout(function(){i.showPasswordError=!1},1e3),t.abrupt("return");t.next=29;break;case 29:return t.prev=29,this.$f7.preloader.show(),t.next=33,_({username:this.username,password:this.password});case 33:n=t.sent,this.$f7.preloader.hide(),0===n.iRet?(this.updateUserStatus({userId:n.data.userId,userInfo:n.data}),this.$f7.views.main.router.navigate("/"),location.reload()):(console.error(n),"Incorrect username or password."===n.data[0]?this.toast("密码或者手机号不正确"):this.toast("登录失败")),t.next=43;break;case 38:t.prev=38,t.t0=t.catch(29),this.$f7.preloader.hide(),console.error(t.t0),this.toast("登录失败");case 43:case"end":return t.stop()}},t,this,[[29,38]])})),function(){return dt.apply(this,arguments)}),signUp:function(){this.$f7router.navigate("/user/signup")},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()}})},ne=Object(m.a)(ae,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{"no-toolbar":"","no-navbar":"","no-swipeback":"","login-screen":""}},[r("f7-login-screen-title",[t._v("宠伢")]),t._v(" "),r("f7-list",{attrs:{form:""}},[r("f7-list-input",{attrs:{label:"手机号",type:"text",placeholder:"12366660000","error-message":t.usernameErrorMsg,"error-message-force":t.showUsernamError,value:t.username},on:{input:function(e){t.username=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"密码",type:"password",placeholder:"密码","error-message":t.passwordErrorMsg,"error-message-force":t.showPasswordError,value:t.password},on:{input:function(e){t.password=e.target.value}}})],1),t._v(" "),r("f7-list",[r("f7-list-button",{on:{click:t.signIn}},[t._v("登录")]),t._v(" "),r("f7-list-button",{on:{click:t.signUp}},[t._v("注册")])],1)],1)},[],!1,null,null,null).exports,ie=new RegExp("^(?=\\d{11}$)^1(?:3\\d|4[57]|5[^4\\D]|66|7[^249\\D]|8\\d|9[89])\\d{8}$"),se={components:{DateTime:Kt,PictureInput:Qt.a},data:function(){return{name:"",email:"",nickname:"",username:"",password:"",gender:"",age:"",homeAddress:"",workAddress:"",picture:"",showUsernamError:!1,showPasswordError:!1,passwordErrorMsg:""}},methods:{resetAllProps:function(){this.name="",this.email="",this.nickname="",this.username="",this.password="",this.gender="",this.age="",this.homeAddress="",this.workAddress="",this.showUsernamError=!1,this.showPasswordError=!1,this.passwordErrorMsg="",this.picture=""},onAgeChange:function(t){this.age=t},onChange:function(t){console.log(this.$refs.pictureInput.image),this.picture=t},toast:function(t){var e=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center",on:{close:function(){r&&e.back()}}}).open()},submitSignupData:(ht=l()(o.a.mark(function t(){var e,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ie.test(this.username)){t.next=4;break}return this.showUsernamError=!0,setTimeout(function(){r.showUsernamError=!1},1e3),t.abrupt("return");case 4:if(0===this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能为空",setTimeout(function(){r.showPasswordError=!1},1e3),t.abrupt("return");t.next=11;break;case 11:if(this.password.length<6)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能小于6位",setTimeout(function(){r.showPasswordError=!1},1e3),t.abrupt("return");t.next=18;break;case 18:if(64<this.password.length)return this.showPasswordError=!0,this.passwordErrorMsg="密码不能大于64位",setTimeout(function(){r.showPasswordError=!1},1e3),t.abrupt("return");t.next=23;break;case 23:if(this.picture){t.next=26;break}return this.toast("请上传头像",!1),t.abrupt("return");case 26:return t.prev=26,t.next=29,D({name:this.name,email:this.email,nickname:this.nickname,username:this.username,password:this.password,gender:this.gender,age:this.age,homeAddress:this.homeAddress,workAddress:this.workAddress,picture:this.picture});case 29:0===(e=t.sent).iRet?(this.toast("注册成功"),this.resetAllProps()):("该用户名已被注册"===e.data[0]&&(e.data[0]="该手机号已被注册"),this.toast(e.data[0],!1)),t.next=37;break;case 33:t.prev=33,t.t0=t.catch(26),console.error(t.t0),this.$f7.dialog.alert("注册失败, 请重试");case 37:case"end":return t.stop()}},t,this,[[26,33]])})),function(){return ht.apply(this,arguments)}),back:function(){this.$f7router.back()}}},oe=Object(m.a)(se,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{staticClass:"me-sign-up",attrs:{"no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"注册"}}),t._v(" "),r("f7-list",{attrs:{"no-hairlines-md":""}},[r("f7-list-input",{attrs:{value:t.name,label:"姓名",type:"text",placeholder:"姓名"},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{value:t.email,label:"邮箱",type:"email",placeholder:"example@example.com"},on:{input:function(e){t.email=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{value:t.nickname,label:"昵称",type:"text",placeholder:"昵称"},on:{input:function(e){t.nickname=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{"error-message":"手机号格式不正确","error-message-force":t.showUsernamError,value:t.username,label:"手机号",placeholder:"手机号"},on:{input:function(e){t.username=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{"error-message":t.passwordErrorMsg,"error-message-force":t.showPasswordError,value:t.password,label:"密码",type:"password",placeholder:"密码"},on:{input:function(e){t.password=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{value:t.gender,label:"性别",type:"select"},on:{input:function(e){t.gender=e.target.value}}},[r("option",{attrs:{value:"1"}},[t._v("男")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("女")]),t._v(" "),r("option",{attrs:{value:"3"}},[t._v("待定")])]),t._v(" "),r("f7-list-input",{attrs:{label:"年龄",input:!1}},[r("f7-range",{attrs:{slot:"input",label:"",value:18,min:0,max:100,step:1},on:{rangeChange:t.onAgeChange},slot:"input"})],1),t._v(" "),r("f7-list-input",{attrs:{value:t.homeAddress,label:"居住地址",type:"textarea",placeholder:"居住地址",resizable:""},on:{input:function(e){t.homeAddress=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{value:t.workAddress,label:"工作单位",type:"textarea",placeholder:"工作单位",resizable:""},on:{input:function(e){t.workAddress=e.target.value}}})],1),t._v(" "),r("div",{staticClass:"block block-strong"},[r("div",{staticClass:"block-header"},[t._v("上传头像")]),t._v(" "),r("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/*",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传头像</p>",tap:"<p>上传头像</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),r("f7-block",[r("f7-row",[r("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),r("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitSignupData}},[t._v("注册")])],1)],1)],1)},[],!1,null,null,null).exports,ce={data:function(){return{user:{},pet:{},isGetUserInfo:!1,link:"/person/detail"}},methods:{onPageBeforeIn:(vt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.isGetUserInfo)return t.abrupt("return");t.next=3;break;case 3:return t.next=5,N();case 5:0===(e=t.sent).iRet?(this.user=e.data.userInfo,this.pet=e.data.pet,this.isGetUserInfo=!0):console.error(e),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])})),function(){return vt.apply(this,arguments)})}},le=(r(93),Object(m.a)(ce,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{id:"personView"},on:{"page:beforein":t.onPageBeforeIn}},[r("f7-navbar",{attrs:{title:"我的"}}),t._v(" "),r("f7-list",{staticClass:"me-person-profile"},[r("f7-list-item",{attrs:{link:t.link}},[r("img",{attrs:{slot:"media",src:t.user.image},slot:"media"}),t._v(" "),r("div",{attrs:{slot:"inner-start"},slot:"inner-start"},[r("div",{staticClass:"me-person-name"},[t._v(t._s(t.user.nickname))]),t._v(" "),r("div",{staticClass:"me-person-master-pet"},[t._v(t._s(t.pet&&t.pet.name||""))])])])],1),t._v(" "),r("f7-list",{staticClass:"me-person-pet-list"},[r("f7-list-item",{attrs:{divider:"",title:"我的宠物"}}),t._v(" "),r("li",{staticClass:"item-content"},[r("a",{attrs:{href:"/person/pets"}},[r("div",{staticClass:"item-inner item-cell"},[r("div",{staticClass:"item-row"},[r("div",{staticClass:"item-cell"},[r("i",{staticClass:"iconfont icon-pets"}),t._v(" "),r("div",[t._v("宠物")])])])])])])],1),t._v(" "),r("f7-list",{staticClass:"me-person-tweet"},[r("f7-list-item",{attrs:{divider:"",title:"我的互动"}}),t._v(" "),r("a",{attrs:{href:"/person/tweets"}},[r("li",{staticClass:"item-content"},[r("div",{staticClass:"item-inner item-cell"},[r("div",{staticClass:"item-row"},[r("div",{staticClass:"item-cell"},[r("i",{staticClass:"iconfont icon-activity1"}),t._v(" "),r("div",[t._v("动态")])])])])])])],1),t._v(" "),r("f7-list",{staticClass:"me-person-activity"},[r("f7-list-item",{attrs:{divider:"",title:"我的活动"}}),t._v(" "),r("a",{attrs:{href:"/person/activities"}},[r("li",{staticClass:"item-content"},[r("div",{staticClass:"item-inner item-cell"},[r("div",{staticClass:"item-row"},[r("div",{staticClass:"item-cell"},[r("i",{staticClass:"iconfont icon-xunzhang"}),t._v("\n              活动勋章\n            ")]),t._v(" "),r("div",{staticClass:"item-cell"},[r("i",{staticClass:"iconfont icon-xunzhang"}),t._v("\n              赛事勋章\n            ")])])])])])],1),t._v(" "),r("f7-list",{staticClass:"me-person-other"},[r("f7-list-item",{attrs:{divider:"",title:"其他"}}),t._v(" "),r("a",{attrs:{href:"/market/add"}},[r("li",{staticClass:"item-content"},[r("div",{staticClass:"item-inner item-cell"},[r("div",{staticClass:"item-row"},[r("div",{staticClass:"item-cell"},[r("i",{staticClass:"iconfont icon-shangjia"}),t._v(" "),r("div",[t._v("商家")])])])])])])],1)],1)},[],!1,null,"066ea9e9",null).exports),pe={props:{marketList:{type:Array}},methods:{getDetailLink:function(t){return"/market/detail/".concat(t.marketId)}}},ue=Object(m.a)(pe,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-list",{staticClass:"me-media-list me-market-list",attrs:{"media-list":""}},t._l(t.marketList,function(e){return r("f7-list-item",{key:e.marketId,attrs:{"media-item":"",title:e.name,subtitle:e.place,link:t.getDetailLink(e)}},[r("img",{staticClass:"lazy lazy-fade-in",attrs:{slot:"media",src:e.image,width:"80"},slot:"media"})])}),1)},[],!1,null,null,null).exports,me={computed:u()({},Object(L.e)(["user"])),components:{BannerSwiper:z,MarketList:ue},data:function(){return{bannerImages:[],showMarketPreloader:!0,allowInfinite:!0,marketList:[],page:1}},methods:{onPageBeforeIn:(kt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.getIndexMarketList(),t.next=3,U();case 3:e=t.sent,this.bannerImages=e;case 5:case"end":return t.stop()}},t,this)})),function(){return kt.apply(this,arguments)}),onMarketPageRefresh:(bt=l()(o.a.mark(function t(e,r){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q();case 3:(a=t.sent).length<6?this.showMarketPreloader=!1:console.error(a),this.marketList=a,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:return t.prev=11,r(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[0,8,11,14]])})),function(){return bt.apply(this,arguments)}),onMarketLoadMore:(wt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.allowInfinite){t.next=3;break}return t.abrupt("return");case 3:return this.allowInfinite=!0,t.next=6,Q();case 6:if(0!==(e=t.sent).iRet){t.next=15;break}if(0===e.data.length)return this.showMarketPreloader=!1,t.abrupt("return");t.next=11;break;case 11:this.page+=1,this.marketList=[].concat(qt()(this.marketList),qt()(e.data)),t.next=16;break;case 15:console.error(e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:return t.prev=21,this.allowInfinite=!0,t.finish(21);case 24:case"end":return t.stop()}},t,this,[[0,18,21,24]])})),function(){return wt.apply(this,arguments)}),getIndexMarketList:(gt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q();case 3:(e=t.sent)?(e.length<6&&(this.showMarketPreloader=!1),this.marketList=e):console.error(e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),function(){return gt.apply(this,arguments)})}},fe=(r(94),Object(m.a)(me,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{id:"marketView",tabs:"","page-content":!1},on:{"page:beforein":t.onPageBeforeIn}},[r("f7-navbar",{attrs:{title:"市场"}}),t._v(" "),r("f7-page-content",{staticClass:"me-market-page-content",attrs:{tab:"","tab-active":"",ptr:"",infinite:"","infinite-preloader":t.showMarketPreloader},on:{"ptr:refresh":t.onMarketPageRefresh,infinite:t.onMarketLoadMore}},[r("banner-swiper",{attrs:{bannerImages:t.bannerImages}}),t._v(" "),t.marketList.length?r("market-list",{attrs:{marketList:t.marketList}}):r("f7-block",{attrs:{inset:"",strong:""}},[r("p",[t._v("暂无相关市场信息")])])],1),t._v(" "),r("f7-fab",{attrs:{slot:"fixed",position:"right-bottom",color:"orange",href:"/market/add"},slot:"fixed"},[r("f7-icon",{attrs:{ios:"f7:add",aurora:"f7:add",md:"material:add"}})],1)],1)},[],!1,null,"6cbb7861",null).exports),de={components:{PictureInput:Qt.a},data:function(){return{name:"",contact:"",phoneNumber:"",place:"",serveType:-1,workTime:"",intro:"",picture:"",showNameErrorMsg:!1,showContactErrorMsg:!1,showPhoneNumberErrorMsg:!1,showPlaceErrorMsg:!1,showPictureErrorMsg:!1,showServeTypeErrorMsg:!1}},methods:{onChange:function(t){this.picture=t},toast:function(t){this.$f7.toast.create({text:t,closeTimeout:2e3,position:"center"}).open()},back:function(){this.$f7router.back()},resetAllProps:function(){this.name="",this.contact="",this.phoneNumber="",this.place="",this.serveType=-1,this.workTime="",this.intro="",this.picture=""},submitMarketData:(xt=l()(o.a.mark(function t(){var e,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,setTimeout(function(){r.showNameErrorMsg=!1,r.showContactErrorMsg=!1,r.showPhoneNumberErrorMsg=!1,r.showPlaceErrorMsg=!1,r.showServeTypeErrorMsg=!1},2e3),this.name){t.next=4;break}return t.abrupt("return",this.showNameErrorMsg=!0);case 4:if(this.contact){t.next=6;break}return t.abrupt("return",this.showContactErrorMsg=!0);case 6:if(this.phoneNumber){t.next=8;break}return t.abrupt("return",this.showPhoneNumberErrorMsg=!0);case 8:if(this.place){t.next=10;break}return t.abrupt("return",this.showPlaceErrorMsg=!0);case 10:if(!this.serveType<0)return t.abrupt("return",this.showServeTypeErrorMsg=!0);t.next=12;break;case 12:if(this.picture){t.next=14;break}return t.abrupt("return",this.toast("商家封面图片不能为空",!1));case 14:return this.$f7.preloader.show(),t.next=17,x({name:this.name,contact:this.contact,phoneNumber:this.phoneNumber,place:this.place,serveType:this.serveType,workTime:this.workTime,intro:this.intro,picture:this.picture});case 17:e=t.sent,this.$f7.preloader.hide(),0===e.iRet?this.toast("新建商家成功"):(this.toast("新建商家失败",!1),console.error(e)),this.resetAllProps(),t.next=28;break;case 23:t.prev=23,t.t0=t.catch(0),console.error(t.t0),this.$f7.preloader.hide(),this.toast("创建商家失败",!1);case 28:case"end":return t.stop()}},t,this,[[0,23]])})),function(){return xt.apply(this,arguments)})}},he=Object(m.a)(de,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{staticClass:"me-add-market",attrs:{"no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":"返回",sliding:"",title:"添加商家"}}),t._v(" "),r("f7-list",{attrs:{"no-hairlines-md":""}},[r("f7-list-input",{attrs:{label:"商家名称",type:"text",value:t.name,placeholder:"商家名称","error-message":"商家名称不能为空","error-message-force":t.showNameErrorMsg},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"联系人",type:"text",value:t.contact,placeholder:"联系人","error-message":"联系人不能为空","error-messsage-force":t.showContactErrorMsg},on:{input:function(e){t.contact=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"联系方式",type:"text",value:t.phoneNumber,placeholder:"联系方式","error-message":"联系方式不能为空","error-message-force":t.showPhoneNumberErrorMsg},on:{input:function(e){t.phoneNumber=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"商家地址",type:"text",value:t.place,placeholder:"商家地址","error-message":"商家地址不能为空","error-message-force":t.showPlaceErrorMsg},on:{input:function(e){t.place=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"服务类型",type:"select",value:t.serveType,"error-message":"服务类型不能为空","error-message-force":t.showServeTypeErrorMsg},on:{input:function(e){t.serveType=e.target.value}}},[r("option",{attrs:{value:"1"}},[t._v("医疗")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("美容")]),t._v(" "),r("option",{attrs:{value:"3"}},[t._v("训练")]),t._v(" "),r("option",{attrs:{value:"4"}},[t._v("拍照")]),t._v(" "),r("option",{attrs:{value:"5"}},[t._v("寄养")])]),t._v(" "),r("f7-list-input",{attrs:{label:"工作时间",type:"textarea",resizable:"",value:t.workTime},on:{input:function(e){t.workTime=e.target.value}}}),t._v(" "),r("f7-list-input",{attrs:{label:"简介",type:"textarea",resizable:"",value:t.intro},on:{input:function(e){t.intro=e.target.value}}})],1),t._v(" "),r("div",{staticClass:"block block-strong"},[r("div",{staticClass:"block-header"},[t._v("上传商家图片")]),t._v(" "),r("picture-input",{ref:"pictureInput",attrs:{width:"200",height:"200",margin:"16",accept:"image/*",size:"10",hideChangeButton:"",removable:!0,customStrings:{upload:"<p>上传商家图片</p>",tap:"<p>上传商家图片</p>",remove:"清除"}},on:{change:t.onChange}})],1),t._v(" "),r("f7-block",[r("f7-row",[r("f7-button",{staticClass:"col",attrs:{raised:""},on:{click:t.back}},[t._v("取消")]),t._v(" "),r("f7-button",{staticClass:"col",attrs:{fill:"",raised:"",color:"green"},on:{click:t.submitMarketData}},[t._v("确认")])],1)],1)],1)},[],!1,null,null,null).exports,ve={data:function(){return{allPets:[]}},created:(_t=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J();case 2:e=t.sent,this.allPets=e;case 4:case"end":return t.stop()}},t,this)})),function(){return _t.apply(this,arguments)}),methods:{getDetailLink:function(t){return"/pet/detail/".concat(t.petId)}}},ge=Object(m.a)(ve,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{tabs:"","no-toolbar":""}},[r("f7-navbar",{attrs:{title:"我的宠物","back-link":"返回"}}),t._v(" "),t.allPets.length?r("f7-list",{staticClass:"me-media-list me-person-all-pets",attrs:{"media-list":""}},t._l(t.allPets,function(e){return r("f7-list-item",{key:e.petId,attrs:{"media-item":"",subtitle:e.age,title:e.nickname,link:t.getDetailLink(e)}},[r("img",{staticClass:"lazy lazy-fade-in",attrs:{slot:"media",src:e.image,width:"80"},slot:"media"})])}),1):r("f7-block",{attrs:{inset:""}},[r("p",[t._v("暂无宠物信息")])]),t._v(" "),r("f7-fab",{attrs:{slot:"fixed",position:"right-bottom",color:"orange",href:"/pet/add"},slot:"fixed"},[r("f7-icon",{attrs:{ios:"f7:add",aurora:"f7:add",md:"material:add"}})],1)],1)},[],!1,null,null,null).exports,we={methods:{formatSubtitle:function(t){return"名额: ".concat(t.totalCount," 人")},formatPlace:function(t){return"活动地点: ".concat(t.place)}},data:function(){return{activities:[]}},mounted:(Dt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q();case 2:e=t.sent,this.activities=e;case 4:case"end":return t.stop()}},t,this)})),function(){return Dt.apply(this,arguments)})},be=Object(m.a)(we,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{"no-toolbar":""}},[r("f7-navbar",{attrs:{title:"我的赛事","back-link":"返回"}}),t._v(" "),t.activities.length?r("f7-list",{staticClass:"me-media-list me-acitivities",attrs:{"media-list":""}},t._l(t.activities,function(e){return r("f7-list-item",{key:e.activityId,attrs:{"media-item":"",subtitle:t.formatSubtitle(e),title:e.name,text:t.formatPlace(e)}},[r("img",{staticClass:"lazy lazy-fade-in",attrs:{slot:"media",src:e.image,width:"80"},slot:"media"})])}),1):r("f7-block",{attrs:{inset:""}},[r("p",[t._v("暂无赛事信息")])])],1)},[],!1,null,null,null).exports,ke={components:{CardList:O},data:function(){return{tweets:[],page:1}},mounted:function(){this.getIndexTweets()},methods:{loadMoreTweets:function(){},getIndexTweets:(yt=l()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:(e=t.sent)&&(this.tweets=e.data);case 4:case"end":return t.stop()}},t,this)})),function(){return yt.apply(this,arguments)})}},xe=Object(m.a)(ke,function(){var t=this.$createElement,e=this._self._c||t;return e("f7-page",{attrs:{id:"personTweetsView","no-toolbar":""}},[e("f7-navbar",{attrs:{title:"我的动态","back-link":"返回"}}),this._v(" "),e("card-list",{attrs:{loadCardData:this.tweets}})],1)},[],!1,null,null,null).exports,_e={props:{activityDetail:{type:Object,required:!0}},data:function(){return{backText:"返回"}}},De=(r(95),Object(m.a)(_e,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{name:t.activityDetail.name,"no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:t.activityDetail.name}}),t._v(" "),r("f7-block-title",[t._v("赛事信息")]),t._v(" "),r("f7-list",{staticClass:"me-activity-detail-list"},[r("f7-list-item",{attrs:{header:"活动开始时间",title:t.activityDetail.beginTime}}),t._v(" "),r("f7-list-item",{attrs:{header:"活动结束时间",title:t.activityDetail.endTime}}),t._v(" "),r("f7-list-item",{attrs:{header:"报名总人数",title:t.activityDetail.totalCount}}),t._v(" "),r("f7-list-item",{attrs:{header:"报名总费用",title:t.activityDetail.totalCost}}),t._v(" "),r("f7-list-item",{attrs:{header:"报名开始时间",title:t.activityDetail.joinBeginTime}}),t._v(" "),r("f7-list-item",{attrs:{header:"报名结束时间",title:t.activityDetail.joinEndTime}}),t._v(" "),r("f7-list-item",{attrs:{"media-item":"",header:"主办方",text:t.activityDetail.organizer}}),t._v(" "),r("f7-list-item",{attrs:{"media-item":"",header:"承办方",text:t.activityDetail.coorganizer}}),t._v(" "),r("f7-list-item",{attrs:{"media-item":"",header:"活动地点",text:t.activityDetail.place}})],1)],1)},[],!1,null,"e09ae508",null).exports),ye={props:{marketDetail:{type:Object,required:!0}},data:function(){return{backText:"返回"}}},Ye=(r(96),Object(m.a)(ye,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{name:"marketDetail","no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:t.marketDetail.name}}),t._v(" "),r("f7-block-title",[t._v("商家信息")]),t._v(" "),r("f7-list",{staticClass:"me-market-detail-list"},[r("f7-list-item",{attrs:{header:"商家名称",title:t.marketDetail.name}}),t._v(" "),r("f7-list-item",{attrs:{header:"联系人",title:t.marketDetail.contact}}),t._v(" "),r("f7-list-item",{attrs:{header:"联系方式",title:t.marketDetail.phoneNumber}}),t._v(" "),r("f7-list-item",{attrs:{"media-item":"",header:"地点",text:t.marketDetail.place}}),t._v(" "),r("f7-list-item",{attrs:{header:"工作时间",text:t.marketDetail.workTime}}),t._v(" "),r("f7-list-item",{attrs:{header:"简介",text:t.marketDetail.intro}})],1)],1)},[],!1,null,"6b64df57",null).exports),Ce={props:{userInfo:{type:Object,required:!0,default:function(){return{}}},petInfo:{type:Object,required:!0}},data:function(){return{backText:"返回"}}},Te=(r(97),Object(m.a)(Ce,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{name:"personDetail","no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:"个人信息"}}),t._v(" "),r("f7-block-title",[t._v("用户信息")]),t._v(" "),r("f7-list",{staticClass:"me-person-detail-list"},[r("f7-list-item",{attrs:{header:"姓名",title:t.userInfo.name}}),t._v(" "),r("f7-list-item",{attrs:{header:"昵称",title:t.userInfo.nickname}}),t._v(" "),r("f7-list-item",{attrs:{header:"性别",title:t.userInfo.gender}}),t._v(" "),r("f7-list-item",{attrs:{header:"年龄",title:t.userInfo.age}}),t._v(" "),r("f7-list-item",{attrs:{"media-item":"",header:"家庭住址",text:t.userInfo.homeAddress}}),t._v(" "),r("f7-list-item",{attrs:{"media-item":"",header:"工作地址",text:t.userInfo.workAddress}})],1),t._v(" "),r("f7-block-title",[t._v("宠物信息")]),t._v(" "),r("f7-list",{staticClass:"me-pet-detail-list"},[r("f7-list-item",{attrs:{header:"宠物昵称",title:t.petInfo.nickname}}),t._v(" "),r("f7-list-item",{attrs:{header:"宠物性别",title:t.petInfo.gender}}),t._v(" "),r("f7-list-item",{attrs:{header:"年龄",title:t.petInfo.age}}),t._v(" "),r("f7-list-item",{attrs:{header:"疫苗状况",title:t.petInfo.vaccineStatus}}),t._v(" "),r("f7-list-item",{attrs:{header:"宠物类型",title:t.petInfo.petType}}),t._v(" "),r("f7-list-item",{attrs:{header:"品种",title:t.petInfo.type}})],1)],1)},[],!1,null,"d5210d84",null).exports),Me={props:{petDetail:{type:Object,required:!0}},data:function(){return{backText:"返回"}}},Ie=Object(m.a)(Me,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",{attrs:{name:"petDetail","no-toolbar":""}},[r("f7-navbar",{attrs:{"back-link":t.backText,sliding:"",title:t.petDetail.nickname}}),t._v(" "),r("f7-block-title",[t._v("宠物信息")]),t._v(" "),r("f7-list",{staticClass:"me-pet-detail-list"},[r("f7-list-item",{attrs:{header:"宠物昵称",title:t.petDetail.nickname}}),t._v(" "),r("f7-list-item",{attrs:{header:"宠物性别",title:t.petDetail.gender}}),t._v(" "),r("f7-list-item",{attrs:{header:"年龄",title:t.petDetail.age}}),t._v(" "),r("f7-list-item",{attrs:{header:"疫苗状况",title:t.petDetail.vaccineStatus}}),t._v(" "),r("f7-list-item",{attrs:{header:"宠物类型",title:t.petDetail.petType}}),t._v(" "),r("f7-list-item",{attrs:{header:"品种",title:t.petDetail.type}})],1)],1)},[],!1,null,null,null).exports,Ee=[{path:"/",component:Bt,keepAlive:!0},{path:"/topic/:topicId/",async:(Et=l()(o.a.mark(function t(e,r,a){var n,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.app.preloader.show(),e.params.topicId,t.prev=2,t.next=5,F();case 5:n=t.sent,i=n.data,a({component:Ut},{props:{tweets:i}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:return t.prev=13,this.app.preloader.hide(),t.finish(13);case 16:case"end":return t.stop()}},t,this,[[2,10,13,16]])})),function(){return Et.apply(this,arguments)})},{path:"/tweet/:tweetId",async:(It=l()(o.a.mark(function t(e,r,a){var n,i,s=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params.tweetId,console.log("tweet ".concat(n," 加载")),this.app.preloader.show(),t.next=5,R();case 5:i=t.sent,setTimeout(function(){a({component:Nt},{props:{comments:i}}),s.app.preloader.hide()},1e3);case 7:case"end":return t.stop()}},t,this)})),function(){return It.apply(this,arguments)})},{path:"/activities/",component:Jt,keepAlive:!0},{path:"/activities/add",component:Xt},{path:"/activities/detail/:activityId",async:(Mt=l()(o.a.mark(function t(e,r,a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.app.preloader.show(),e.params.activityId,t.prev=2,t.next=5,V();case 5:(n=t.sent)&&a({component:De},{props:{activityDetail:n}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return t.prev=12,this.app.preloader.hide(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[2,9,12,15]])})),function(){return Mt.apply(this,arguments)})},{path:"/pet/add",component:ee},{path:"/pet/detail/:petId",async:(Tt=l()(o.a.mark(function t(e,r,a){var n,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.app.preloader.show(),n=e.params.petId,t.prev=2,t.next=5,Z({petId:n});case 5:(i=t.sent)&&a({component:Ie},{props:{petDetail:i}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return t.prev=12,this.app.preloader.hide(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[2,9,12,15]])})),function(){return Tt.apply(this,arguments)})},{path:"/person",component:le,keepAlive:!0},{path:"/person/detail",async:(Ct=l()(o.a.mark(function t(e,r,a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.app.preloader.show(),t.prev=1,t.next=4,N();case 4:0===(n=t.sent).iRet&&a({component:Te},{props:{userInfo:n.data.userInfo,petInfo:n.data.pet}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:return t.prev=11,this.app.preloader.hide(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[1,8,11,14]])})),function(){return Ct.apply(this,arguments)})},{path:"/person/pets",component:ge},{path:"/person/activities",component:be},{path:"/person/tweets",component:xe},{path:"/market",component:fe,keepAlive:!0},{path:"/market/add",component:he},{path:"/market/detail/:marketId",async:(Yt=l()(o.a.mark(function t(e,r,a){var n,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.app.preloader.show(),n=e.params.marketId,t.prev=2,t.next=5,W({marketId:n});case 5:(i=t.sent)&&a({component:Ye},{props:{marketDetail:i}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:return t.prev=12,this.app.preloader.hide(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[2,9,12,15]])})),function(){return Yt.apply(this,arguments)})},{path:"/user/login",component:ne},{path:"/user/signup",component:oe},{path:"(.*)",component:f}],Pe={props:{enableTools:{type:Boolean,default:!1},editorText:{type:String,default:""},placeholder:{type:String,default:""},imagePreviewUrl:{type:String,default:""}},methods:{editorTextChange:function(t){this.$emit("text:input",t.target.value)},imgFileOnChange:function(t){var e=this,r=t.target.files[0];if(r)if(C.test(r.type)){var a=new FileReader;a.onload=function(t){e.$emit("image:input",t.target,r)},a.readAsDataURL(r)}else this.$f7.dialog.alert("请上传图片","格式不正确")}}},He=(r(98),Object(m.a)(Pe,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"me-editor-container"},[r("textarea",{attrs:{type:"textarea",placeholder:t.placeholder},domProps:{value:t.editorText},on:{input:t.editorTextChange}}),t._v(" "),t.enableTools?r("div",{staticClass:"block me-profile-image-container"},[r("div",{staticClass:"me-profile-image-div"},[t.imagePreviewUrl?r("img",{staticClass:"me-profile-image",attrs:{src:t.imagePreviewUrl}}):r("i",{staticClass:"iconfont icon-shangchuantupian me-upload-image-icon"})]),t._v(" "),t.enableTools?r("div",{staticClass:"me-profile-buttons-div"},[r("div",{staticClass:"me-profile-img-input"},[r("label",{staticClass:"me-upload-image",attrs:{for:"me-upload-image"}},[t._v("上传图片")]),t._v(" "),r("input",{staticClass:"me-input-image",attrs:{type:"file",id:"me-upload-image",name:"me-upload-image",accept:"image/*"},on:{change:t.imgFileOnChange}})])]):t._e()]):t._e()])},[],!1,null,"d32675fc",null).exports),je={components:{Editor:He},computed:u()({},Object(L.e)({editorText:function(t){return t.popup.editorText}})),data:function(){return{imagePreviewUrl:"",file:null}},methods:u()({},Object(L.c)(["updatePopup"]),Object(L.d)(["updatePopup","updateEditorText"]),{closePopup:function(){this.updateEditorText({text:""}),this.file=null,this.imagePreviewUrl=""},textInputChange:function(t){this.updateEditorText({text:t})},imageUpload:function(t,e){this.imagePreviewUrl=t.result,this.file=e},sendTweet:function(){var t=this;this.$f7.preloader.show();var e=new FormData;e.append("text",this.editorText),e.append("image",this.file),console.log("--------formData-------",e.get("text")),console.log("--------formData-------",e.get("image")),setTimeout(function(){t.$f7.preloader.hide(),t.updatePopup({key:"publisherOpened",value:!1}),t.updateEditorText({text:""}),t.imagePreviewUrl=""},1e3)}})},Ae=Object(m.a)(je,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",[r("f7-navbar",[r("f7-nav-left",[r("f7-link",{attrs:{"popup-close":"",text:"取消"},on:{click:t.closePopup}})],1),t._v(" "),r("f7-nav-right",[r("f7-link",{attrs:{text:"发布"},on:{click:t.sendTweet}})],1)],1),t._v(" "),r("editor",{attrs:{enableTools:!0,editorText:t.editorText,imagePreviewUrl:t.imagePreviewUrl,placeholder:"发表文字"},on:{"text:input":t.textInputChange,"image:input":t.imageUpload}})],1)},[],!1,null,null,null).exports,Oe={data:function(){return{text:""}},computed:u()({},Object(L.e)({editorText:function(t){return t.popup.editorText}})),components:{Editor:He},methods:u()({},Object(L.d)(["updatePopup","updateEditorText"]),{closePopup:function(){this.updateEditorText({text:""})},textInputChange:function(t){this.updateEditorText({text:t})},sendComment:function(){var t=this;this.$f7.preloader.show("正在发送..."),setTimeout(function(){t.$f7.preloader.hide(),t.updatePopup({key:"commentOpened",value:!1}),t.updateEditorText({text:""})},1e3)}})},$e=Object(m.a)(Oe,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-page",[r("f7-navbar",{attrs:{title:""}},[r("f7-nav-left",[r("f7-link",{attrs:{"popup-close":"",text:"关闭"},on:{click:t.closePopup}})],1),t._v(" "),r("f7-nav-title",{attrs:{title:"评论"}}),t._v(" "),r("f7-nav-right",[r("f7-link",{attrs:{text:"发送"},on:{click:t.sendComment}})],1)],1),t._v(" "),r("editor",{attrs:{editorText:t.editorText,placeholder:"评论点什么..."},on:{"text:input":t.textInputChange}})],1)},[],!1,null,null,null).exports,ze={data:function(){return{f7params:{name:"CutePet",theme:"ios",routes:Ee}}},computed:u()({},Object(L.e)({commentOpened:function(t){return t.popup.commentOpened},publisherOpened:function(t){return t.popup.publisherOpened}})),components:{Comment:$e,Publisher:Ae},methods:u()({},Object(L.d)(["updatePopup"]),Object(L.c)(["updateUserStatus"]),{closePopup:function(t){this.updatePopup({key:t,value:!1})}}),mounted:function(){var t;this.$f7ready((t=l()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}))}},Se=Object(m.a)(ze,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("f7-app",{attrs:{params:t.f7params}},[r("f7-views",{staticClass:"safe-areas",attrs:{tabs:""}},[r("f7-toolbar",{attrs:{tabbar:"",labels:"",position:"bottom"}},[r("f7-link",{attrs:{"tab-link":"#me-view-home","tab-link-active":"",icon:"iconfont icon-home",text:"首页"}}),t._v(" "),r("f7-link",{attrs:{"tab-link":"#me-view-activities","icon-ios":"f7:list_fill",text:"活动"}}),t._v(" "),r("f7-link",{attrs:{"tab-link":"#me-view-market",icon:"iconfont icon-market2",text:"市场"}}),t._v(" "),r("f7-link",{attrs:{"tab-link":"#me-view-person",icon:"iconfont icon-person",text:"我的"}})],1),t._v(" "),r("f7-view",{attrs:{id:"me-view-home",stackPages:"","tab-active":"",main:"",tab:"",url:"/"}}),t._v(" "),r("f7-view",{attrs:{id:"me-view-activities",stackPages:"",tab:"",url:"/activities/"}}),t._v(" "),r("f7-view",{attrs:{id:"me-view-market",stackPages:"",tab:"",url:"/market/"}}),t._v(" "),r("f7-view",{attrs:{id:"me-view-person",stackPages:"",tab:"",url:"/person/"}})],1),t._v(" "),r("f7-popup",{attrs:{opened:t.commentOpened},on:{"popup:closed":function(){return t.closePopup("commentOpened")}}},[r("comment")],1),t._v(" "),r("f7-popup",{attrs:{opened:t.publisherOpened},on:{"popup:closed":function(){return t.closePopup("publisherOpened")}}},[r("publisher")],1)],1)},[],!1,null,null,null).exports,Be=d.a.request.promise.postJSON,Le={getUserStatus:(Pt=l()(o.a.mark(function t(e){var r,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commit,e.state,t.prev=1,t.next=4,Be("/api/user/person/j-status");case 4:0===(a=t.sent).iRet&&r("updateUserStatus",a.data),console.log("---用户状态",a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("---用户状态出错了",t.t0);case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return Pt.apply(this,arguments)})},Ue=(n.a.request.promise.postJSON,{appendTweets:function(t,e){var r=e.tweets;t.tweets=[].concat(qt()(t.tweets),qt()(r))},prependTweets:function(t,e){var r=e.tweets;t.tweets=[].concat(qt()(r),qt()(t.tweets))},updateTweetById:function(t,e){var r=e.liked,a=e.tweetId,n=t.tweets.find(function(t){return t.tweetId===a});!1===r?(n.liked=!0,n.likeCount+=1):(n.liked=!1,n.likeCount-=1)},resetTweets:function(t,e){var r=e.tweets;t.tweets=r},addPageNum:function(t){t.tweetPage+=1}}),Fe={namespaced:!0,state:{tweets:[],bannerImages:[],tweetPage:1,tweetsIsLoadAll:!1},getters:{isTweetLoadAll:function(t){return t.tweetsIsLoadAll},getTweetById:function(t){return function(e){var r=e.tweetId;return t.tweets.find(function(t){return t.tweetId===r})}}},actions:{getIndexTweets:(jt=l()(o.a.mark(function t(e){var r,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commit,e.state,t.prev=1,t.next=4,F();case 4:a=t.sent,console.log("获取首页tweets信息流",a),0===a.iRet?r("resetTweets",{tweets:a.data}):console.error(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[1,9]])})),function(){return jt.apply(this,arguments)}),loadMoreTweets:(Ht=l()(o.a.mark(function t(e){var r,a,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.commit,a=e.state,t.prev=1,a.tweetsIsLoadAll)return t.abrupt("return");t.next=4;break;case 4:return t.next=6,F();case 6:0===(n=t.sent).iRet?0===n.data.length?a.tweetsIsLoadAll=!0:(r("addPageNum"),r("appendTweets",{tweets:n.data})):console.error(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}},t,null,[[1,10]])})),function(){return Ht.apply(this,arguments)})},mutations:Ue};a.a.use(L.b);var Ne=new L.b.Store({state:{user:{isLogin:!1,userId:null,isGetInfo:!1,userInfo:null},popup:{publisherOpened:!1,commentOpened:!1,editorText:""}},getters:{loginStatus:function(){}},actions:Le,mutations:{updatePopup:function(t,e){var r=e.key,a=e.value;t.popup[r]=a},updateEditorText:function(t,e){var r=e.text;t.popup.editorText=r},updateUserStatus:function(t,e){var r=e.userId,a=e.userInfo;r&&(t.user.isLogin=!0,t.user.userId=r,t.user.isGetInfo=!0,t.user.userInfo=a)}},modules:{home:Fe}});n.a.use(i.a),new a.a({el:"#app",store:Ne,render:function(t){return t(Se)},components:{app:Se}})}});
//# sourceMappingURL=app.js.map